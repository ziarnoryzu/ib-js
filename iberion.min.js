!function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(r,i,o){var a=r.iberionTagConfig;if(a){var u=!!a.debug,s={},c=r.document,l="https://securepubads.g.doubleclick.net/tag/js/gpt.js",d=a.pbjsUrl||"//acdn.adnxs.com/prebid/not-for-prod/prebid.js",g=a.pbjsName||"pbjs",f=a.dataLayerName||"dataLayer";if(r[i]=r[i]||{cmd:[]},!r[i]||!r[i].inited){r.googletag=r.googletag||{cmd:[]};var p,m={cmd:[]},y={cmd:[]},h=!1,b=!1,v={},S=!1,A=!1,E=!1,O=!1,q=!1;i,function(){if(!(googletag.apiReady||S||w(l))){var e=c.head||c.getElementsByTagName("head")[0];z("inserting GPT"),C(e,l)}S=!0}(),function(e){var t=r[e];t.inited||(z("initQueue for",e),t.log=z,t.name=e,t.inited=!0,t.defineAndDisplayAds=function(e,t){z("---REACT called defineAndDisplayAds"),function(e,t){var n,i,o,u;z("----displayAds executing!"),t&&(z("---route has changed"),(r[f]=r[f]||[]).push({event:"custom.domReady"}),j(y,!0),I(y),O=!1),n=a,i=E||k(n),o=n.defaultTimeout||3e3,u=i,googletag.cmd.push((function(){M(),n.slots.forEach((function(e){if("function"!=typeof e.condition||e.condition()){var t,n=B(e),r=e.type||"display";switch(r){case"interstitial":case"top_anchor":case"bottom_anchor":case"rewarded":t=D(n,r);break;case"out-of-page":t=D(n,e.slotElementId);break;case"display":N(e),t=function(e,t,n){var r=googletag.defineSlot(e,t,n);return r?r.addService(googletag.pubads())&&z("---created standard slot ",e,t,n):P("Creating DISPLAY slot FAILED"),r}(n,R(e.sizes),e.slotElementId)}t&&(e.prebid?v.prebid.push(t):v.standard.push(t),function(e,t){G(e.targeting,e),function(e,t){if(t){var n=F(t),r=googletag.sizeMapping();n.forEach((function(e){r=r.addSize(e.query,e.sizes)})),r=(r=r.addSize([0,0],[])).build(),e.defineSizeMapping(r),z("---size mapping object:",r)}}(e,t.sizeMapping)}(t,e))}})),u&&(googletag.pubads().disableInitialLoad(),z("---initial load disabled")),G(n.targeting,googletag.pubads()),googletag.pubads().enableSingleRequest()?z("---single request enabled"):z("!!!ERROR: could not enable single request!!!"),googletag.enableServices(),u?(q?q():setTimeout(J,o),v.standard.length&&(z("---display&refresh standard slots",v.standard),_(v.standard))):v.standard.length?Q():P("No slots to display()!")}))}(0,t)},t.destroyAds=function(e){!function(){O=!0,q=!1,b=!1,H(),z("---history changed!");try{var e=U();e.removeAdUnit(),e.initAdserverSet=!1}catch(e){}M();var t=r.googletag=r.googletag||{cmd:[]};z("---destroying slots!"),t.cmd.push((function(){t.destroySlots();var e=t.pubads();e.clearTargeting(),e.clearCategoryExclusions()})),E=k(a)}()},function(e){e.cmd.length&&(j(e),z("emptying queue"),I(e)),z("making queue live"),e.cmd={push:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){t.call(),T(e,t)}))},getProcessed:function(){return n(s[e.name]||[])}}}(t))}("iberionTag")}}function z(){var e;u&&(e=console).log.apply(e,arguments)}function P(){var e;u&&(e=console).warn.apply(e,arguments)}function T(e,t){(s[e.name]=s[e.name]||[]).push(t)}function j(e,t){t||z("processing initial queue, length = ",e.cmd.length),e.cmd.forEach((function(n){n.call(),t||T(e,n)}))}function I(e){e.cmd.splice(0)}function w(e,t){return n(c.scripts).find((function(n){var r=n.src;return t?r.indexOf(e)>-1:r===e}))}function C(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=c.createElement("script");r.async=n,r.src=t,e.appendChild(r)}function U(){return r[g]=r[g]||{que:[]}}function x(e){return!e.cmd.length}function k(e){var t=e.slots,i=[],o=!1,a=[];if(t.filter((function(e){return!!e.prebid})).forEach((function(e){o=!0,N(e);var t=R(e.sizes);2==t.length&&"number"==typeof t[0]&&(t=[t]),e.sizeMapping&&a.push(e.sizeMapping);var n,r={code:B(e),mediaTypes:{banner:{sizes:t}},bids:(n=e.prebid.bids,n.map((function(e){if(e.bidder&&e.params)return e;var t={bidder:"",params:{}};return Object.keys(e).forEach((function(n){switch(n){case"labelAny":case"labelAll":t[n]=e[n];break;default:t.bidder=n,t.params=e[n]}})),t.bidder&&t.params?t:null})).filter((function(e){return!!e})))};i.push(r)})),o){if(a.length){var s=function(e){var t=[],r={};e.forEach((function(e){var n=F(e);t=t.concat(n)})),z("---NORMALIZED SM:",t),t.forEach((function(e){var t=e.query.join("x"),n=e.sizes.map((function(e){return e.join("x")}));r[t]=r[t]||[],r[t]=r[t].concat(n)}));for(var i=0,o=Object.keys(r);i<o.length;i++){var a=o[i];r[a]=n(new Set(r[a]))}z("---GROUPED:",r);var u=F(r);u.sort((function(e,t){return t.query[0]-e.query[0]||t.query[1]-e.query[1]})),z("---GROUPED NORMALIZED:",u);var s=0,c=u.map((function(e){var t=e.query[0],n="(min-width: ".concat(t,"px)");return s&&(n+=" and (max-width: ".concat(s-1,"px)")),s=t,{mediaQuery:n,sizesSupported:e.sizes,labels:["minW".concat(t)]}}));return z("---sizeConfig:",c),c}(a);s.length&&((e.prebid=e.prebid||{}).sizeConfig=s)}!function(e){if(e){var t=U();t.que.push((function(){!function(e){var t=U();if("change"in e){var n=e.change.hostname;n&&(z("---PBJS: que the process of setting up page url"),m.cmd.push((function(){t.setConfig({pageUrl:r.location.href.replace(/^(\w+:\/\/)([^\/]+)/,"$1".concat(n))}),z("---PBJS: pageUrl set up to",t.getConfig("pageUrl"))}))),delete e.change}}(e),t.setConfig(e),u&&t.setConfig({debug:!0})}))}}(e.prebid),function(e){!function(){if(!A&&!w(d,!0)){var e=c.head||c.getElementsByTagName("head")[0];z("inserting PBJS"),C(e,d)}A=!0}();var t=U();function n(){x(m)||(z("---processing pbjs_beforerequest queue"),j(m,!0)),z("---issuing prebid request",e),t.requestBids({bidsBackHandler:J,timeout:1e3})}t.que.push((function(){t.addAdUnits(e),!O||x(m)?n():(z("---PBJS: queing requestBids due to pageUrl changes after historyChange"),y.cmd.push(n))}))}(i)}return o}function B(e){var t=e.adUnit;return/^\/\d+\//.test(t)||(t="/154371181/"+e.adUnit),t}function D(e,t){var n=googletag.defineOutOfPageSlot(e,function(e){return googletag.enums.OutOfPageFormat[e.toUpperCase()]||e}(t));return n?n.addService(googletag.pubads())&&z("---created oop slot ",e,t):P("Creating OOP slot FAILED"),n}function M(){v.prebid=[],v.standard=[]}function R(e){if("fluid"===e)return e;var t=e;if("string"==typeof t){if(!t)return[];t=t.split(/[,|]/)}return t.map(L)}function L(e){return"string"==typeof e&&"fluid"!==e?e.split("x").map((function(e){return Number(e)})):e}function N(e){e.sizeMapping&&!e.sizes&&function(){for(var t=e.sizeMapping,n=[],r=0,i=Object.values(t);r<i.length;r++)R(i[r]).forEach((function(e){var t=e.join("x");-1===n.indexOf(t)&&n.push(t)}));e.sizes=n.map(L)}()}function F(e){for(var n=[],r=0,i=Object.entries(e);r<i.length;r++){var o=t(i[r],2),a=o[0],u=o[1],s=L(a);s.length<2&&(s[1]=0);var c=R(u);n.push({query:s,sizes:c})}return n}function G(n,r){if(n&&"object"===e(n))for(var i=0,o=Object.entries(n);i<o.length;i++){var a=t(o[i],2);key=a[0],value=a[1],r.display?z("---setup page-level targeting: ".concat(key,"=").concat(value)):z("---setup slot targeting: ".concat(key,"=").concat(value)),r.setTargeting(key,value)}}function _(e,t){t||Q(),W(e)}function J(e,t,n){var r=U();if(!r.initAdserverSet){r.initAdserverSet=!0;var i=!e&&!t||t;O?q=o.bind(null,e,t,n):o(e,t)}function o(e,t,n){googletag.cmd.push((function(){e&&!t&&(z("---prebid: setting GPT targeting for response",e),r.setTargetingForGPTAsync&&r.setTargetingForGPTAsync()),z("---display&refresh prebid slots:",v.prebid),_(v.prebid,i||b)}))}}function Q(){if(!h&&!b)return h=!1,p=setTimeout((function(){p=0,h=!0,z("display timeout")}),3e3),$()}function Z(e){r.requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,40)}function $(e,t){e=e||googletag.pubads().getSlots();var n=[],r=[],i=t||!1;function o(e){h=!1,!i&&r.length&&(z("---Display",r.length,"OOP slots",e),r.forEach((function(e){return googletag.display(e)})))}e.forEach((function(e){var t=e.getSlotElementId(),o=t&&c.getElementById(t);e.getOutOfPage()?function(e){return e.getOutOfPage()&&0===e.getSlotElementId().indexOf("gpt_unit_/")}(e)?r.push(e):o?(z("---Display OOP with element, slot=",e.getAdUnitPath(),"element=",t),googletag.display(t),i=!0):n.push(e):o?(z("---Display standard slot=",e.getAdUnitPath(),t),googletag.display(t),i=!0):n.push(e)})),n.length?h?o("timeouted"):Z((function(){$(n.concat(r),i)})):(H(),o("immediately")),b=b||i}function H(){clearTimeout(p),p=0}function W(e){e=e||googletag.pubads().getSlots();var t=[],n=[];e.forEach((function(e){var r=e.getSlotElementId(),i=r&&c.getElementById(r);e.getOutOfPage()?t.push(e):i&&(c.getElementById(r)?t.push(e):n.push(e))})),t.length&&(z("---refreshing slots:",t),googletag.pubads().refresh(t)),n.length&&p&&Z((function(){W(n)}))}}(window,"iberionTag")}();